<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Anouncements</title>

    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
    <th:block th:include="fragments/head.html :: head" />

    <link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>
    
        

    <div th:replace="fragments/nav.html :: navbar"></div>

    <main style="margin:6rem 0;">

    <div class="container-fluid text-center">

        <div align="center">
            <h1 style="background-color: #23869C; width:fit-content; padding:0 10rem; font-weight:bold;"> List of Anouncements </h1>
        </div>


        <div class="mr-2" align="right">
            <a class="h2 btn btn-primary btn-md" th:href="@{/admin/newAnouncement}"> 
                <span style="background-color: #23869C; width:fit-content; padding:0 1rem; font-weight:bold; border-radius:100%;">+</span>  Add new Anouncement</a>
        </div>

        <div th:if="${er}" class = "alert alert-danger text-center">
            [[${er}]]
        </div>
        <div th:if="${message}" class = "alert alert-success text-center">
            [[${message}]]
        </div>
        <div th:if="${success}" class = "alert alert-success text-center">
            [[${success}]]
        </div>
        <table class="table table-bordered">
            <tbody>
                <div th:each="anouncement : ${anouncementLists}">
                    <div id="accordion m-5" >
                        <div class="card" style="margin-bottom: 50px;">
                          <div class="card-header" id="headingOne">
                            <h5 class="d-flex justify-content-between mb-0">
                                    <div>Title: &ThickSpace; [[${anouncement.getSubject}]] |<span class= "text-muted"> [[${anouncement.getSentDate}]] </span></div>
                              <button class="btn btn-primary" data-toggle="collapse" th:data-target="'#' + ${anouncement.getAnouncementId}" aria-expanded="false" aria-controls="collapseOne">
                                expand/hide
                              </button>
                            </h5>
                          </div>
                      
                          <div th:id="${anouncement.getAnouncementId}" class="collapse hide" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body">
                              Announcement:<br>
                              [[${anouncement.getMessage}]]
            
                            </div>
                            <div class="card-body">
                            <a class="h3 mr-3 btn btn-primary " th:href="@{ '/admin/editAnouncement/' + ${anouncement.getAnouncementId}} ">EDIT</a>
                            <a class="h3 mr-3 btn btn-danger " th:href="@{ '/admin/deleteAnouncement/' + ${anouncement.getAnouncementId}} ">DELETE</a>
                            </div>
                          <div
                          </div>
                        </div>
                    </div></
                    <br><br>
            
                </div>


            </tbody>
        </table>

        

        <div th:if ="${anouncementLists.isEmpty}" class="container">
            <h1>No anouncement available</h1>
        </div>
    </div>
</main>
<script th:src="@{https://code.jquery.com/jquery-3.2.1.slim.min.js}" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js}" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js}" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script th:src="@{/js/bootstrap.bundle.min.js} "></script>

    <div th:replace="fragments/footer.html :: footer"></div>
    <th:block th:replace="fragments/script :: script" />

    
</body>

</html>