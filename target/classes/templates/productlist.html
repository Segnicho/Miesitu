<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org">
    <head>
        <th:block th:include="fragments/head.html :: head" />


    <title>products</title>
    <style>
        main{
            margin-top: 6rem;
            margin-bottom: 4rem;
        }
    </style>
</head>
<body>

      <div th:replace="fragments/nav.html :: navbar"></div> 

<main style="margin-bottom: 4rem; margin-top:6rem;">
    <div align="center">
        <h1 style="background-color: #23869C; width:fit-content; padding:0 10rem; font-weight:bold; "> Currently Available Products</h1>
    </div>
    <div th:if="${er}" class = "alert alert-danger text-center">
        [[${er}]]
    </div>
    <div th:if="${message}" class = "alert alert-success text-center">
        [[${message}]]
    </div>
    <div th:if="${success}" class = "alert alert-success text-center">
        [[${success}]]
    </div>

    <div th:if="${productlist.isEmpty()}" >
         <p style="color: #23869C;">No active products available Currently</p>
    </div>


    <div class="row" align = "center" style="margin-top:3rem;">
        <div th:each="product:${productlist}"  class="col-6" align = "center">
                <div class="card" style="width: 70%; margin-bottom:10px;" align = "left">
                    <div class="card-body">
                    <h5 class="card-title" style="color: #23869C; font-weight:bolder"> Name: [[${product.getProductName}]] <span class="text-muted">$[[${product.getPrice}]]</span> </h5>
                    </div>
                    <div class="card-footer">
                    <h6 class="card-subtitle mb-2 text-muted"> <span style="color: blue;">Sell start date:</span>  [[${product.getStartDate}]] &Tab;&Tab; <br> <span style="color: rgb(153, 77, 77);">Sell End date: </span> [[${product.getEndDate}]]</h6>
                    </div>
                    <div class="card-body">
                    <p class="card-text">Product Description: [[${product.getProductDesc}]]</p>
                    </div>
            </div>
        </div>
        
        </div>

        <div align="center">
            <h1 style="background-color: #23869C; width:fit-content; padding:0 10rem; font-weight:bold; "> currently bought products </h1>
        </div>
       
   
   
       <div class="row" align = "center" style="margin-top:3rem; margin-bottom:10px;">
           <div th:each="con:${cons}"  class="col-6" align = "center">
                   <div class="card" style="width: 19rem; margin-bottom:10px;">
                       <div class="card-header">
                            <h5 class="card-title"> <span style="color: #23869C; font-weight:bolder"> Name: </span> [[${con.getProduct.getProductName}]] <span class="text-muted">$[[${con.getProduct.getPrice}]]</span> </h5>

                       </div>
                       <div class="card-body">
           
                       <h6 class="card-subtitle mb-2 text-muted"> date bought: [[${con.date}]] &Tab;&Tab;</h6>
                       <p class="card-text">Amount Bought: [[${con.getAmount}]] kg</p>
                       </div>
               </div>
           </div>
           
           </div>
</main>
<div th:replace="fragments/footer.html :: footer"></div>
    <th:block th:replace="fragments/script :: script" />
</body>

</html>